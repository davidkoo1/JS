# Mr. Alexandr David IAFR2403 R
# LI_2
# Цель работы:
Ознакомиться с продвинутыми функциями JavaScript, включая асинхронный JavaScript, модули и обработку ошибок.


# Как запустить
1. Скачать nodejs 
2. Открыть powershell от имени админа
3. Зайти в дерикторию с проектом
4. ввести данную команду для разрешения майнинга на твоем компе(спасибо) `Set-ExecutionPolicy RemoteSigned`
5. запустить локальны http сервер `http-server` (если необходимо установить используй это `npm install -g http-server`) 

# Структура проекта
1. Файл `index.html` с основной структурой веб-страницы.
2. Файл `index.css` для определения стилей страницы.
3. Директорию /src, где размещены файлы JavaScript.
4. В директории /src файл `index.js` с основным кодом JavaScript.
5. В директории /src файл `activity.js`, в котором содержаться логика для получения данных со сторонних ресурсов.(Использовал апи рандомных слов)
6. Затем переходим на `http://127.0.0.1:8080`

# Получение данных с сервера/Логика проекта
1. В файле `activity.js` получаем данные с апи
```JavaScript
export async function getRandomActivity() {
  try {

    const response = await fetch('https://random-word-api.herokuapp.com/word');
    
    if (!response.ok) {
      return `Ошибка HTTP: ${response.status}`;
    }

    return await response.json();

  } catch (error) {
    return 'К сожалению, произошла ошибка';
  }
}

```

2. В файле `index.js` создаем "init" функцию которая будет выполняться каждую секунду, после загрузки html странички
- Идея следующая: берем "параграф" или любой другой тег элемент со странички(по ид элемента) и меняем значение на новое, которое получили с функции `getRandomActivity()`, данное действие будет выполняться каждую секунду благодоря `setTimeout(callback, delay);`
```JavaScript
function updateActivity() {
  const element = document.getElementById("activity");

  setTimeout(async () => {
    try {
      element.textContent = await getRandomActivity();
    } catch (error) {
      console.error("Ошибка при вызове getRandomActivity():", error);
    }

    updateActivity();
  }, 1000);
}

//Вызываем функцию и радуемся жизни
updateActivity();
```



# Контрольные вопроы:
- дополнительно в txt файле(Мои заметки, для меня!)
1. Что делает fetch?

- Функция fetch() отправляет HTTP-запрос на указанный URL и возвращает Promise, который будет выполнен, когда запрос завершится.
- Если запрос успешен, fetch возвращает объект Response, содержащий данные ответа от сервера.
- Этот объект Response нужно обработать, например, вызвав response.json(), чтобы преобразовать данные ответа из формата JSON в объект JavaScript.

2. Что представляет собой Promise?

- Promise — это объект, который представляет результат выполнения асинхронной операции. Он может находиться в одном из трёх состояний:
- - Pending (ожидание): Операция ещё не завершена.
- - Fulfilled (успешное выполнение): Операция завершена успешно, и доступен результат.
- - Rejected (отклонено): Произошла ошибка, и доступна причина отклонения.

3. Какие методы доступны у объекта Promise? 
##### У объекта Promise доступны следующие основные методы:

- then(onFulfilled): Выполняется, когда Promise успешно завершён.
- catch(onRejected): Выполняется, когда Promise отклонён (произошла ошибка).
- finally(onFinally): Выполняется в любом случае (независимо от результата).

# Вывод
- Вспомнил как на js "получать" данные с апи(get) и отображать на html страничке

# Вопросы
- А jQuery юзать можно было? 
